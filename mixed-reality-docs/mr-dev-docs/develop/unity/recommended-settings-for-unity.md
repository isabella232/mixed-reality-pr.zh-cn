---
title: 建议用于 Unity 的设置
description: 了解特定于混合现实应用（可通过项目设置切换）的 Unity 性能和发布行为。
author: hferrone
ms.author: v-hferrone
ms.date: 07/29/2020
ms.topic: article
keywords: unity， 设置， 混合现实， HoloLens， 混合现实头戴显示设备， Windows 混合现实头戴显示设备， 虚拟现实头戴显示设备， 性能， 质量设置， 照明设置， 深度缓冲区， xr， 跟踪丢失
ms.openlocfilehash: 7516ec89c49a12e7cb143d7e53d00efde0e44c4e
ms.sourcegitcommit: 719682f70a75f732b573442fae8987be1acaaf19
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 06/02/2021
ms.locfileid: "110743386"
---
# <a name="recommended-settings-for-unity"></a><span data-ttu-id="f78ff-104">建议用于 Unity 的设置</span><span class="sxs-lookup"><span data-stu-id="f78ff-104">Recommended settings for Unity</span></span>

<span data-ttu-id="f78ff-105">Unity 提供了一组默认选项，这些选项通常是所有平台的平均情况。</span><span class="sxs-lookup"><span data-stu-id="f78ff-105">Unity provides a set of default options that are generally the average case for all platforms.</span></span> <span data-ttu-id="f78ff-106">但是，Unity 提供了一些特定于混合现实的行为，可以通过项目设置进行切换。</span><span class="sxs-lookup"><span data-stu-id="f78ff-106">However, Unity offers some behaviors specific to mixed reality that can be toggled through project settings.</span></span>

## <a name="performant-environment-set-up"></a><span data-ttu-id="f78ff-107">性能环境设置</span><span class="sxs-lookup"><span data-stu-id="f78ff-107">Performant environment set-up</span></span>

### <a name="low-quality-settings"></a><span data-ttu-id="f78ff-108">低质量设置</span><span class="sxs-lookup"><span data-stu-id="f78ff-108">Low-quality settings</span></span>

<span data-ttu-id="f78ff-109">将 Unity 质量设置修改为"非常低"非常重要，以便应用程序以适当的帧速率运行并运行良好，尤其是对于 HoloLens 开发。</span><span class="sxs-lookup"><span data-stu-id="f78ff-109">It's important to modify the **Unity Quality settings** to **Very Low** so that your application is runs and performs well at the appropriate framerate, especially for HoloLens development.</span></span> <span data-ttu-id="f78ff-110">对于沉浸式头戴显示设备的开发，根据为 VR 体验提供电源的桌面规格，仍可在没有最低质量参数的情况下实现帧速率。</span><span class="sxs-lookup"><span data-stu-id="f78ff-110">For development on immersive headsets, depending on the specs of the desktop powering the VR experience, one can still achieve framerate without the lowest quality parameters.</span></span>

<span data-ttu-id="f78ff-111">在 Unity 2019 LTS+ 中，可以通过进入"编辑项目设置质量"并单击向下箭头到"非常低的质量级别"来设置默认值，来设置项目  >    >  的质量级别。</span><span class="sxs-lookup"><span data-stu-id="f78ff-111">In Unity 2019 LTS+, you can set the project's quality level by going to **Edit** > **Project Settings** > **Quality** and setting the **Default** by clicking on the downward arrow to the \*\*Very Low-quality level.</span></span>

### <a name="lighting-settings"></a><span data-ttu-id="f78ff-112">照明设置</span><span class="sxs-lookup"><span data-stu-id="f78ff-112">Lighting settings</span></span>

<span data-ttu-id="f78ff-113">与"质量"场景设置类似，为混合现实应用程序设置最佳照明设置非常重要。</span><span class="sxs-lookup"><span data-stu-id="f78ff-113">Similar to Quality scene settings, it's important to set optimal Lighting settings for your Mixed Reality application.</span></span> <span data-ttu-id="f78ff-114">在 Unity 中，通常对场景具有最大性能影响的"照明"设置是 **"实时全局照明"。**</span><span class="sxs-lookup"><span data-stu-id="f78ff-114">In Unity, the Lighting setting that will usually have the greatest performance impact on your scene is **Realtime Global Illumination**.</span></span> <span data-ttu-id="f78ff-115">可以通过访问"窗口渲染照明设置""实时全局照明"  >    >    >  **来关闭"全局照明"。**</span><span class="sxs-lookup"><span data-stu-id="f78ff-115">You can turn off Global Illumination by going to **Window** > **Rendering** > **Lighting Settings** > **Realtime Global Illumination**.</span></span>

<span data-ttu-id="f78ff-116">还有另一个照明设置 **，"烘焙全局照明"。**</span><span class="sxs-lookup"><span data-stu-id="f78ff-116">There's another lighting setting, **Baked Global Illumination**.</span></span> <span data-ttu-id="f78ff-117">此设置可以在沉浸式头戴显示设备上提供性能高、视觉效果突出的结果，但不适用于 HoloLens 开发。</span><span class="sxs-lookup"><span data-stu-id="f78ff-117">This setting can provide performant and visually striking results on immersive headsets but isn't applicable for HoloLens development.</span></span> <span data-ttu-id="f78ff-118">**烘焙全局照明** 仅针对静态 GameObject 进行计算，由于未知且不断变化的环境的性质，在 HoloLens 场景中找不到这些对象。</span><span class="sxs-lookup"><span data-stu-id="f78ff-118">**Baked Global Illumination** is only calculated for static GameObjects, which aren't found in HoloLens scenes because of the nature of an unknown and changing environment.</span></span>

<span data-ttu-id="f78ff-119">有关详细信息[，请阅读 Unity 中的 Global Unity。](https://docs.unity3d.com/Manual/GIIntro.html)</span><span class="sxs-lookup"><span data-stu-id="f78ff-119">Read [Global Illumination from Unity](https://docs.unity3d.com/Manual/GIIntro.html) for more information.</span></span> 

>[!NOTE]
> <span data-ttu-id="f78ff-120">**实时全局照明** 按 **场景设置，** 因此开发人员必须针对其项目中每个 Unity 场景保存此属性。</span><span class="sxs-lookup"><span data-stu-id="f78ff-120">**Realtime Global Illumination** is set **per-scene** and thus developers must save this property for every Unity scene in their project.</span></span>

### <a name="single-pass-instancing-rendering-path"></a><span data-ttu-id="f78ff-121">单通道实例化呈现路径</span><span class="sxs-lookup"><span data-stu-id="f78ff-121">Single pass instancing rendering path</span></span>

<span data-ttu-id="f78ff-122">在混合现实应用程序中，场景呈现两次，每只眼睛一次呈现给用户。</span><span class="sxs-lookup"><span data-stu-id="f78ff-122">In Mixed Reality applications, the scene is rendered twice, once for each eye to the user.</span></span> <span data-ttu-id="f78ff-123">与传统 3D 开发相比，这实际上是需要计算的工作量的两倍。</span><span class="sxs-lookup"><span data-stu-id="f78ff-123">Compared to traditional 3D development, this effectively doubles the amount of work that needs to be computed.</span></span> <span data-ttu-id="f78ff-124">在 Unity 中选择最有效的呈现路径以节省 CPU 和 GPU 时间非常重要。</span><span class="sxs-lookup"><span data-stu-id="f78ff-124">It's important to select the most efficient rendering path in Unity to save both on CPU and GPU time.</span></span> <span data-ttu-id="f78ff-125">单通道实例呈现可优化混合现实应用的 Unity 呈现管道，建议默认为每个项目启用此设置。</span><span class="sxs-lookup"><span data-stu-id="f78ff-125">Single pass instanced rendering optimizes the Unity rendering pipeline for Mixed Reality apps and it's recommended to enable this setting by default for every project.</span></span>

<span data-ttu-id="f78ff-126">在 Unity 项目中启用此功能</span><span class="sxs-lookup"><span data-stu-id="f78ff-126">To enable this feature in your Unity Project</span></span>

1)  <span data-ttu-id="f78ff-127">打开“播放器 XR 设置”（转到“编辑” > “项目设置” > “播放器” > “XR 设置”）    </span><span class="sxs-lookup"><span data-stu-id="f78ff-127">Open **Player XR Settings** (go to **Edit** > **Project Settings** > **Player** > **XR Settings**)</span></span>
2) <span data-ttu-id="f78ff-128">从“立体渲染方法”下拉菜单中选择“单通道实例化”（必须选中“支持虚拟现实”复选框）  </span><span class="sxs-lookup"><span data-stu-id="f78ff-128">Select **Single Pass Instanced** from the **Stereo Rendering Method** drop-down menu (**Virtual Reality Supported** checkbox must be checked)</span></span>

<span data-ttu-id="f78ff-129">有关此呈现方法的更多详细信息，请阅读 Unity 中的以下文章。</span><span class="sxs-lookup"><span data-stu-id="f78ff-129">Read the following articles from Unity for more details with this rendering approach.</span></span>

- [<span data-ttu-id="f78ff-130">如何使用高级立体渲染最大化 AR 和 VR 的性能</span><span class="sxs-lookup"><span data-stu-id="f78ff-130">How to maximize AR and VR performance with advanced stereo rendering</span></span>](https://blogs.unity3d.com/2017/11/21/how-to-maximize-ar-and-vr-performance-with-advanced-stereo-rendering/)
- [<span data-ttu-id="f78ff-131">单通道实例化</span><span class="sxs-lookup"><span data-stu-id="f78ff-131">Single Pass Instancing</span></span>](https://docs.unity3d.com/Manual/SinglePassInstancing.html)

>[!NOTE]
> <span data-ttu-id="f78ff-132">如果开发人员的现有自定义着色器不是针对实例化编写的，则单通道实例化渲染会发生一个常见问题。</span><span class="sxs-lookup"><span data-stu-id="f78ff-132">One common issue with Single Pass Instanced Rendering occurs if developers already have existing custom shaders not written for instancing.</span></span> <span data-ttu-id="f78ff-133">启用此功能后，开发人员可能会注意到，某些 GameObject 只在一只眼睛中呈现。</span><span class="sxs-lookup"><span data-stu-id="f78ff-133">After enabling this feature, developers may notice some GameObjects only render in one eye.</span></span> <span data-ttu-id="f78ff-134">这是因为，关联的自定义着色器没有与实例化相关的适当属性。</span><span class="sxs-lookup"><span data-stu-id="f78ff-134">This is because the associated custom shaders do not have the appropriate properties for instancing.</span></span>
>
> <span data-ttu-id="f78ff-135">请参阅 Unity 文章 [HoloLens 的 单通道立体渲染](https://docs.unity3d.com/Manual/SinglePassStereoRenderingHoloLens.html)来了解如何解决此问题</span><span class="sxs-lookup"><span data-stu-id="f78ff-135">See [Single Pass Stereo Rendering for HoloLens](https://docs.unity3d.com/Manual/SinglePassStereoRenderingHoloLens.html) from Unity for how to address this problem</span></span>

### <a name="enable-depth-buffer-sharing"></a><span data-ttu-id="f78ff-136">启用深度缓冲区共享</span><span class="sxs-lookup"><span data-stu-id="f78ff-136">Enable depth buffer sharing</span></span>

<span data-ttu-id="f78ff-137">为了从用户的认知中实现更好的全息影像稳定性，建议在 Unity 中启用 **"深度缓冲区共享** "属性。</span><span class="sxs-lookup"><span data-stu-id="f78ff-137">To achieve better hologram stability from the perception of the user, it's recommended to enable the **Depth Buffer Sharing** property in Unity.</span></span> <span data-ttu-id="f78ff-138">启用此功能后，Unity 将与你的应用程序平台共享应用程序Windows Mixed Reality地图。</span><span class="sxs-lookup"><span data-stu-id="f78ff-138">By turning this on, Unity will share the depth map produced by your application with the Windows Mixed Reality platform.</span></span> <span data-ttu-id="f78ff-139">然后，该平台可以针对应用程序呈现的任何给定帧更好地优化场景的全息影像稳定性。</span><span class="sxs-lookup"><span data-stu-id="f78ff-139">The platform can then better optimize hologram stability specifically for your scene for any given frame being rendered by your application.</span></span>

<span data-ttu-id="f78ff-140">在 Unity 项目中启用此功能</span><span class="sxs-lookup"><span data-stu-id="f78ff-140">To enable this feature in your Unity Project</span></span>

1) <span data-ttu-id="f78ff-141">打开“播放器 XR 设置”（转到“编辑” > “项目设置” > “播放器” > “XR 设置”）    </span><span class="sxs-lookup"><span data-stu-id="f78ff-141">Open **Player XR Settings** (go to **Edit** > **Project Settings** > **Player** > **XR Settings**)</span></span>
2) <span data-ttu-id="f78ff-142">选中 **"在支持** 虚拟现实的 **虚拟网络中Windows Mixed Reality** SDK  >   **("** 启用深度缓冲区共享"复选框) </span><span class="sxs-lookup"><span data-stu-id="f78ff-142">Select the checkbox for **Enable Depth Buffer Sharing** under **Virtual Reality SDKs** > **Windows Mixed Reality** expansion (**Virtual Reality Supported** checkbox must be checked)</span></span>

<span data-ttu-id="f78ff-143">此外，建议在此面板中的"深度格式"设置下选择 **"16** 位深度"，尤其是对于 HoloLens 开发。 </span><span class="sxs-lookup"><span data-stu-id="f78ff-143">Further, it's recommended to select **16-bit depth** under the **Depth Format** setting in this panel, especially for HoloLens Development.</span></span> <span data-ttu-id="f78ff-144">与 24 位相比，选择 16 位将显著减少带宽要求，因为需要移动/处理的数据更少。</span><span class="sxs-lookup"><span data-stu-id="f78ff-144">Selecting 16-bit compared to 24-bit will significantly reduce the bandwidth requirements as less data will need to be moved/processed.</span></span>

<span data-ttu-id="f78ff-145">为了使Windows Mixed Reality优化全息影像稳定性，它依赖于深度缓冲区的准确性，并匹配屏幕上的任何渲染全息影像。</span><span class="sxs-lookup"><span data-stu-id="f78ff-145">In order for the Windows Mixed Reality platform to optimize hologram stability, it relies on the depth buffer to be accurate and match any rendered holograms on screen.</span></span> <span data-ttu-id="f78ff-146">因此，在启用深度缓冲区共享时，呈现颜色时，还必须呈现深度。</span><span class="sxs-lookup"><span data-stu-id="f78ff-146">Thus, with depth buffer sharing on, it is important when rendering color, to also render depth.</span></span> <span data-ttu-id="f78ff-147">在 Unity 中，大多数不透明或 TransparentCutout 材料默认呈现深度，但透明对象和文本对象不会呈现深度，尽管这依赖于着色器等。</span><span class="sxs-lookup"><span data-stu-id="f78ff-147">In Unity, most Opaque or TransparentCutout materials will render depth by default but transparent and text objects will not render depth although this is shader-dependent, etc.</span></span>

<span data-ttu-id="f78ff-148">如果使用混合 [现实工具包标准着色器](/windows/mixed-reality/mrtk-unity/features/rendering/mrtk-standard-shader)，则呈现透明对象的深度：</span><span class="sxs-lookup"><span data-stu-id="f78ff-148">If using the [Mixed Reality Toolkit Standard shader](/windows/mixed-reality/mrtk-unity/features/rendering/mrtk-standard-shader), to render depth for transparent objects:</span></span>

1) <span data-ttu-id="f78ff-149">选择使用 MRTK 标准着色器透明材料，然后打开"检查器编辑器"窗口</span><span class="sxs-lookup"><span data-stu-id="f78ff-149">Select the transparent material that is using the MRTK Standard shader and open the Inspector editor window</span></span>
2) <span data-ttu-id="f78ff-150">选择深度 **缓冲区共享** 警告中的"立即修复"按钮。</span><span class="sxs-lookup"><span data-stu-id="f78ff-150">Select the **Fix Now** button within the depth buffer sharing warning.</span></span> <span data-ttu-id="f78ff-151">也可将"呈现模式"设置为"自定义 **"来手动\*\*\*\*执行此操作**;然后将"**模式"** 设置为 **"透明**"，最后将 **"深度写入"设置为\*\*\*\*"打开"**</span><span class="sxs-lookup"><span data-stu-id="f78ff-151">This can also be performed manually by setting the **Rendering Mode** to **Custom**; then set **Mode** to **Transparent** and finally set **Depth Write** to **On**</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f78ff-152">更改这些值以及相机的近/远平面设置时，开发人员应小心 Z 冲突。</span><span class="sxs-lookup"><span data-stu-id="f78ff-152">Developers should beware of Z-fighting when changing these values along with the camera's near/far plane settings.</span></span> <span data-ttu-id="f78ff-153">当两个游戏对象尝试呈现到同一像素，并且深度缓冲区的保真度受限（即，由于深度缓冲区的保真度限制）时， (Z 冲突</span><span class="sxs-lookup"><span data-stu-id="f78ff-153">Z-Fighting occurs when two gameobjects try to render to the same pixel and due to limitations in fidelity of the depth buffer (i.e</span></span> <span data-ttu-id="f78ff-154">z depth) ，Unity 无法识别位于另一个对象前面的对象。</span><span class="sxs-lookup"><span data-stu-id="f78ff-154">z depth), Unity cannot discern which object is in front of the other.</span></span> <span data-ttu-id="f78ff-155">开发人员将注意到两个游戏对象在两个游戏对象之间闪烁 *，因为他们需要* 相同的 z 深度值。</span><span class="sxs-lookup"><span data-stu-id="f78ff-155">Developers will note a flickering between two game objects as they *fight* for the same z-depth value.</span></span> <span data-ttu-id="f78ff-156">这可以通过切换到 24 位深度格式来解决，因为每个对象在相机的 z 深度方面需要计算更大的值范围。</span><span class="sxs-lookup"><span data-stu-id="f78ff-156">This can be solved by switching to 24-bit depth format as there will be a larger range of values for each object to calculate upon for their z-depth from the camera.</span></span>
>
> <span data-ttu-id="f78ff-157">但是，建议改为将相机的近平面和远平面修改为更小的范围，并保留 16 位深度格式，尤其是对于 HoloLens 开发。</span><span class="sxs-lookup"><span data-stu-id="f78ff-157">However, it is recommended, particularly for HoloLens development, to modify the camera's near and far planes to a smaller range instead and retain the 16-bit depth format.</span></span> <span data-ttu-id="f78ff-158">z 深度是沿近相机平面和远相机平面以非线性方式映射到值范围。</span><span class="sxs-lookup"><span data-stu-id="f78ff-158">The z-depth is non-linearly mapped to the range of values along the near and far camera planes.</span></span> <span data-ttu-id="f78ff-159">可以通过在场景中选择主相机，在"检查器"**下** 修改这一点，更改"近&远剪裁平面"值，以减小其 (范围，即</span><span class="sxs-lookup"><span data-stu-id="f78ff-159">This can be modified by selecting the *Main Camera* in your scene and under **Inspector**, change the **Near & Far Clipping Plane** values to reduce their range (i.e</span></span> <span data-ttu-id="f78ff-160">从 1000m 到 100m 或其他 x 值，等等) </span><span class="sxs-lookup"><span data-stu-id="f78ff-160">from 1000m to 100m or other x value, etc.)</span></span>

>[!IMPORTANT]
> <span data-ttu-id="f78ff-161">[使用 16 位](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) 深度格式时，Unity 不会创建模具缓冲区。</span><span class="sxs-lookup"><span data-stu-id="f78ff-161">[Unity does not create a stencil buffer](https://docs.unity3d.com/ScriptReference/RenderTexture-depth.html) when using 16-bit depth format.</span></span> <span data-ttu-id="f78ff-162">因此，某些 Unity UI 效果和其他需要模具的效果将不起作用，除非选择 24 位深度格式，这将创建 [8 位模具缓冲区](https://docs.unity3d.com/Manual/SL-Stencil.html)。</span><span class="sxs-lookup"><span data-stu-id="f78ff-162">Thus, some Unity UI effects and other stencil-required effects will not work unless 24-bit depth format is selected which will create an [8-bit stencil buffer](https://docs.unity3d.com/Manual/SL-Stencil.html).</span></span>

### <a name="building-for-il2cpp"></a><span data-ttu-id="f78ff-163">IL2CPP 生成</span><span class="sxs-lookup"><span data-stu-id="f78ff-163">Building for IL2CPP</span></span>

<span data-ttu-id="f78ff-164">Unity 已弃用对 .NET 脚本后端的支持，因此建议开发人员使用 **IL2CPP** 进行 UWP Visual Studio 生成。</span><span class="sxs-lookup"><span data-stu-id="f78ff-164">Unity has deprecated support for the .NET scripting backend and thus recommends that developers utilize **IL2CPP** for their UWP visual studio builds.</span></span> <span data-ttu-id="f78ff-165">尽管这带来了各种优势，但从 Unity for **IL2CPP** 生成 Visual Studio 解决方案的速度可能会比旧的 .NET 方法慢。</span><span class="sxs-lookup"><span data-stu-id="f78ff-165">Although this brings various advantages, building your visual studio solution from Unity for **IL2CPP** can be slower than the old .NET method.</span></span> <span data-ttu-id="f78ff-166">因此，强烈建议遵循生成 **IL2CPP** 的最佳实践，以节省开发迭代时间。</span><span class="sxs-lookup"><span data-stu-id="f78ff-166">Thus, it is highly recommended to follow best practices for building **IL2CPP** to save on development iteration time.</span></span>

1) <span data-ttu-id="f78ff-167">利用增量生成，每次将项目生成到同一目录，并在那里重新使用预生成文件</span><span class="sxs-lookup"><span data-stu-id="f78ff-167">Leverage incremental building by building your project to the same directory every time, reusing the pre-built files there</span></span>
2) <span data-ttu-id="f78ff-168">在生成文件夹中禁用项目的反恶意软件&扫描</span><span class="sxs-lookup"><span data-stu-id="f78ff-168">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="f78ff-169">在 **& 设置应用下打开** "病毒Windows 10威胁防护"</span><span class="sxs-lookup"><span data-stu-id="f78ff-169">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="f78ff-170">在 **"病毒和\*\*\*\*威胁&下选择"管理设置"**</span><span class="sxs-lookup"><span data-stu-id="f78ff-170">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="f78ff-171">在 **"排除项"部分下选择** " **添加或删除排除** 项"</span><span class="sxs-lookup"><span data-stu-id="f78ff-171">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="f78ff-172">选择 **"添加排除** 项"，然后选择包含 Unity 项目代码和生成输出的文件夹</span><span class="sxs-lookup"><span data-stu-id="f78ff-172">Select **Add an exclusion** and select the folder containing your Unity project code and build outputs</span></span>
3) <span data-ttu-id="f78ff-173">使用 SSD 进行生成</span><span class="sxs-lookup"><span data-stu-id="f78ff-173">Use an SSD for building</span></span>

<span data-ttu-id="f78ff-174">有关详细信息 [，请阅读优化 IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) 的生成时间。</span><span class="sxs-lookup"><span data-stu-id="f78ff-174">Read [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span>

> [!NOTE]
> <span data-ttu-id="f78ff-175">此外，设置[缓存服务器](https://docs.unity3d.com/Manual/CacheServer.html)可能会有所帮助，尤其是对于包含大量资产（不包括脚本文件）或不断变化的场景/资产的 Unity 项目而言。</span><span class="sxs-lookup"><span data-stu-id="f78ff-175">Furthermore, it may be beneficial to setup a [Cache Server](https://docs.unity3d.com/Manual/CacheServer.html), especially for Unity projects with a large amount of assets (excluding script files) or constantly changing scenes/assets.</span></span> <span data-ttu-id="f78ff-176">打开项目时，Unity 会在开发人员计算机上将符合条件的资产存储为内部缓存格式。</span><span class="sxs-lookup"><span data-stu-id="f78ff-176">When opening a project, Unity stores qualifying assets into an internal cache format on the developer machine.</span></span> <span data-ttu-id="f78ff-177">必须重新导入项，因此，项在修改后会重新经过处理。</span><span class="sxs-lookup"><span data-stu-id="f78ff-177">Items must be re-imported and thus re-processed when modified.</span></span> <span data-ttu-id="f78ff-178">此过程可以执行一次，结果可保存在缓存服务器，因此可与其他开发人员共享以节省时间，无需让每个开发人员在本地重新导入新的更改。</span><span class="sxs-lookup"><span data-stu-id="f78ff-178">This process can be done once and saved in a Cache Server and consequently shared with other developers to save time, instead of every developer processing the re-import of new changes locally.</span></span>

## <a name="publishing-properties"></a><span data-ttu-id="f78ff-179">发布属性</span><span class="sxs-lookup"><span data-stu-id="f78ff-179">Publishing properties</span></span>

### <a name="holographic-splash-screen"></a><span data-ttu-id="f78ff-180">全息初始屏幕</span><span class="sxs-lookup"><span data-stu-id="f78ff-180">Holographic splash screen</span></span>

<span data-ttu-id="f78ff-181">HoloLens 具有移动类 CPU 和 GPU，这意味着应用加载可能需要更长的时间。</span><span class="sxs-lookup"><span data-stu-id="f78ff-181">HoloLens has a mobile-class CPU and GPU, which means apps may take a bit longer to load.</span></span> <span data-ttu-id="f78ff-182">加载应用时，用户只看到黑色，因此他们可能会想知道这一点。</span><span class="sxs-lookup"><span data-stu-id="f78ff-182">While the app is loading, users will just see black, and so they may wonder what's going on.</span></span> <span data-ttu-id="f78ff-183">若要在加载过程中保护它们，可以添加全息初始屏幕。</span><span class="sxs-lookup"><span data-stu-id="f78ff-183">To reassure them during loading, you can add a holographic splash screen.</span></span>

<span data-ttu-id="f78ff-184">切换全息初始屏幕：</span><span class="sxs-lookup"><span data-stu-id="f78ff-184">To toggle the holographic splash screen:</span></span>

1) <span data-ttu-id="f78ff-185">转到"**编辑**  >  **项目设置**  >  **""播放器"** 页</span><span class="sxs-lookup"><span data-stu-id="f78ff-185">Go to **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="f78ff-186">选择 **"Windows 应用商店"** 选项卡并打开" **初始图像"** 部分</span><span class="sxs-lookup"><span data-stu-id="f78ff-186">Select the **Windows Store** tab and open the **Splash Image** section</span></span>
3) <span data-ttu-id="f78ff-187">在"Windows 全息图像""全息> **图像"属性下应用** 图像。</span><span class="sxs-lookup"><span data-stu-id="f78ff-187">Apply your image under the **Windows Holographic > Holographic Splash Image** property.</span></span>
    - <span data-ttu-id="f78ff-188">切换"显示 **Unity 初始屏幕"** 选项将启用或禁用 Unity 品牌初始屏幕。</span><span class="sxs-lookup"><span data-stu-id="f78ff-188">Toggling the **Show Unity Splash Screen** option will enable or disable the Unity branded splash screen.</span></span> <span data-ttu-id="f78ff-189">如果没有 Unity Pro 许可证，则始终显示 Unity 品牌初始屏幕。</span><span class="sxs-lookup"><span data-stu-id="f78ff-189">If you don't have a Unity Pro license, the Unity branded splash screen will always be displayed.</span></span>
    - <span data-ttu-id="f78ff-190">如果 **应用全息初始** 图像，则无论启用还是禁用"显示 Unity 初始屏幕"复选框，都会始终显示该图像。</span><span class="sxs-lookup"><span data-stu-id="f78ff-190">If a **Holographic Splash Image** is applied, it will always be displayed whether the Show Unity Splash Screen checkbox is enabled or disabled.</span></span> <span data-ttu-id="f78ff-191">只有具有 Unity Pro 许可证的开发人员才能指定自定义全息初始图像。</span><span class="sxs-lookup"><span data-stu-id="f78ff-191">Specifying a custom holographic splash image is only available to developers with a Unity Pro license.</span></span>

|  <span data-ttu-id="f78ff-192">显示 Unity 初始屏幕</span><span class="sxs-lookup"><span data-stu-id="f78ff-192">Show Unity Splash Screen</span></span>  |  <span data-ttu-id="f78ff-193">全息初始图像</span><span class="sxs-lookup"><span data-stu-id="f78ff-193">Holographic Splash Image</span></span>  |  <span data-ttu-id="f78ff-194">行为</span><span class="sxs-lookup"><span data-stu-id="f78ff-194">Behavior</span></span> |
|----------|----------|----------|
|  <span data-ttu-id="f78ff-195">开</span><span class="sxs-lookup"><span data-stu-id="f78ff-195">On</span></span>  |  <span data-ttu-id="f78ff-196">无</span><span class="sxs-lookup"><span data-stu-id="f78ff-196">None</span></span>  |  <span data-ttu-id="f78ff-197">显示默认 Unity 初始屏幕 5 秒或直到加载应用（以较长者为准）。</span><span class="sxs-lookup"><span data-stu-id="f78ff-197">Show default Unity splash screen for 5 seconds or until the app is loaded, whichever is longer.</span></span> |
|  <span data-ttu-id="f78ff-198">开</span><span class="sxs-lookup"><span data-stu-id="f78ff-198">On</span></span>  |  <span data-ttu-id="f78ff-199">自定义</span><span class="sxs-lookup"><span data-stu-id="f78ff-199">Custom</span></span>  |  <span data-ttu-id="f78ff-200">显示自定义初始屏幕 5 秒或直到加载应用（以较长者为准）。</span><span class="sxs-lookup"><span data-stu-id="f78ff-200">Show Custom splash screen for 5 seconds or until the app is loaded, whichever is longer.</span></span> |
|  <span data-ttu-id="f78ff-201">关</span><span class="sxs-lookup"><span data-stu-id="f78ff-201">Off</span></span>  |  <span data-ttu-id="f78ff-202">无</span><span class="sxs-lookup"><span data-stu-id="f78ff-202">None</span></span>  |  <span data-ttu-id="f78ff-203">显示透明的黑色 (没有) ，直到加载应用。</span><span class="sxs-lookup"><span data-stu-id="f78ff-203">Show transparent black (nothing) until app is loaded.</span></span> |
|  <span data-ttu-id="f78ff-204">关</span><span class="sxs-lookup"><span data-stu-id="f78ff-204">Off</span></span>  |  <span data-ttu-id="f78ff-205">自定义</span><span class="sxs-lookup"><span data-stu-id="f78ff-205">Custom</span></span>  |  <span data-ttu-id="f78ff-206">显示自定义初始屏幕5秒或在加载应用之前，以较长者为准。</span><span class="sxs-lookup"><span data-stu-id="f78ff-206">Show Custom splash screen for 5 seconds or until the app is loaded, whichever is longer.</span></span> |

<span data-ttu-id="f78ff-207">有关详细信息，请阅读 [Unity 初始屏幕文档](https://docs.unity3d.com/Manual/class-PlayerSettingsSplashScreen.html) 。</span><span class="sxs-lookup"><span data-stu-id="f78ff-207">Read [Unity's Splash Screen documentation](https://docs.unity3d.com/Manual/class-PlayerSettingsSplashScreen.html) for more info.</span></span>

### <a name="tracking-loss"></a><span data-ttu-id="f78ff-208">失跟</span><span class="sxs-lookup"><span data-stu-id="f78ff-208">Tracking loss</span></span>

<span data-ttu-id="f78ff-209">混合现实耳机依赖于查看它周围的环境，以构建 [全球锁定的坐标系](coordinate-systems-in-unity.md)，使全息影像保持在位置。</span><span class="sxs-lookup"><span data-stu-id="f78ff-209">A Mixed reality headset depends on seeing the environment around it to construct [world-locked coordinate systems](coordinate-systems-in-unity.md), which allow holograms to remain in position.</span></span> <span data-ttu-id="f78ff-210">当耳机无法在世界各地定位时，耳机被称为 *丢失跟踪*。</span><span class="sxs-lookup"><span data-stu-id="f78ff-210">When the headset is unable to locate itself in the world, the headset is said to have *lost tracking*.</span></span> <span data-ttu-id="f78ff-211">在这些情况下，依赖于全球锁定坐标系的功能（如空间阶段、空间锚和空间映射）不起作用。</span><span class="sxs-lookup"><span data-stu-id="f78ff-211">In these cases, functionality dependent on world-locked coordinate systems, such as spatial stages, spatial anchors and spatial mapping, don't work.</span></span>

<span data-ttu-id="f78ff-212">如果发生跟踪丢失，则 Unity 的默认行为是停止渲染全息影像，暂停 [游戏循环](https://docs.unity3d.com/Manual/ExecutionOrder.html)，并显示一条跟踪丢失的通知，以使用户看起来更舒适。</span><span class="sxs-lookup"><span data-stu-id="f78ff-212">If a loss of tracking occurs, Unity's default behavior is to stop rendering holograms, pause the [game loop](https://docs.unity3d.com/Manual/ExecutionOrder.html), and display a tracking lost notification that comfortably follows the users gaze.</span></span> <span data-ttu-id="f78ff-213">还可以以跟踪丢失图像的形式提供自定义通知。</span><span class="sxs-lookup"><span data-stu-id="f78ff-213">Custom notifications can also be provided in the form of a tracking loss image.</span></span> <span data-ttu-id="f78ff-214">对于依赖于整个体验的跟踪的应用，足以让 Unity 完全处理此过程，直到重新获得跟踪。</span><span class="sxs-lookup"><span data-stu-id="f78ff-214">For apps that depend upon tracking for their whole experience, it's sufficient to let Unity handle this entirely until tracking is regained.</span></span> <span data-ttu-id="f78ff-215">开发人员可以在跟踪丢失期间提供要显示的自定义图像。</span><span class="sxs-lookup"><span data-stu-id="f78ff-215">Developers can supply a custom image to be shown during tracking loss.</span></span>

<span data-ttu-id="f78ff-216">自定义跟踪丢失映像：</span><span class="sxs-lookup"><span data-stu-id="f78ff-216">To customize the tracking lost image:</span></span>

1) <span data-ttu-id="f78ff-217">中转到 "**编辑**  >  **项目设置**  >  **播放器**" 页面</span><span class="sxs-lookup"><span data-stu-id="f78ff-217">Go to **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="f78ff-218">在 " **Windows 应用商店** " 选项卡上选择并打开 " **初始图像** " 部分</span><span class="sxs-lookup"><span data-stu-id="f78ff-218">Select on the **Windows Store** tab and open the **Splash Image** section</span></span>
3) <span data-ttu-id="f78ff-219">应用 " **Windows 全息 > 跟踪丢失映像** " 属性下的映像。</span><span class="sxs-lookup"><span data-stu-id="f78ff-219">Apply your image under the **Windows Holographic > Tracking Loss Image** property.</span></span>

#### <a name="opt-out-of-automatic-pause"></a><span data-ttu-id="f78ff-220">选择退出自动暂停</span><span class="sxs-lookup"><span data-stu-id="f78ff-220">Opt-out of automatic pause</span></span>

<span data-ttu-id="f78ff-221">某些应用可能不需要跟踪 (例如， [仅面向打印的应用](coordinate-systems-in-unity.md) （如360度视频查看器）) 或者可能需要在跟踪丢失时继续处理。</span><span class="sxs-lookup"><span data-stu-id="f78ff-221">Some apps may not require tracking (e.g. [orientation-only apps](coordinate-systems-in-unity.md) such as 360-degree video viewers) or may need to continue processing uninterrupted while tracking is lost.</span></span> <span data-ttu-id="f78ff-222">您可以选择禁用跟踪行为的默认丢失，但您需要负责隐藏/禁用任何对象，这在跟踪丢失方案中无法正确呈现。</span><span class="sxs-lookup"><span data-stu-id="f78ff-222">You can opt out of the default loss of tracking behavior but you're responsible for hiding/disabling any objects, which wouldn't render properly in a tracking-loss scenario.</span></span> <span data-ttu-id="f78ff-223">在大多数情况下，建议在这种情况下呈现的内容只是正文锁定的内容，并在主相机周围居中。</span><span class="sxs-lookup"><span data-stu-id="f78ff-223">In most cases, the only content that is recommended to be render in that case is body-locked content, centered around the main camera.</span></span>

<span data-ttu-id="f78ff-224">选择退出自动暂停行为：</span><span class="sxs-lookup"><span data-stu-id="f78ff-224">To opt out of automatic pause behavior:</span></span>

1) <span data-ttu-id="f78ff-225">请参阅 **编辑**  >  **项目设置**  >  **播放器** 页面</span><span class="sxs-lookup"><span data-stu-id="f78ff-225">Go to the **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="f78ff-226">选择 " **Windows 应用商店** " 选项卡，并打开 " **初始图像** " 部分</span><span class="sxs-lookup"><span data-stu-id="f78ff-226">Select the **Windows Store** tab and open the **Splash Image** section</span></span>
3) <span data-ttu-id="f78ff-227">修改 " **跟踪丢失时暂停" 和 "显示图像** " 复选框中的 Windows 全息 >。</span><span class="sxs-lookup"><span data-stu-id="f78ff-227">Modify the **Windows Holographic > On Tracking Loss Pause and Show Image** checkbox.</span></span>

#### <a name="tracking-loss-events"></a><span data-ttu-id="f78ff-228">跟踪丢失事件</span><span class="sxs-lookup"><span data-stu-id="f78ff-228">Tracking loss events</span></span>

<span data-ttu-id="f78ff-229">若要在跟踪丢失时定义自定义行为，请处理全局 [跟踪丢失事件](tracking-loss-in-unity.md)。</span><span class="sxs-lookup"><span data-stu-id="f78ff-229">To define custom behavior when tracking is lost, handle the global [tracking loss events](tracking-loss-in-unity.md).</span></span>

### <a name="capabilities"></a><span data-ttu-id="f78ff-230">功能</span><span class="sxs-lookup"><span data-stu-id="f78ff-230">Capabilities</span></span>

<span data-ttu-id="f78ff-231">为了使应用程序能够利用特定功能，它必须在其清单中声明相应的功能。</span><span class="sxs-lookup"><span data-stu-id="f78ff-231">For an app to take advantage of certain functionality, it must declare the appropriate capabilities in its manifest.</span></span> <span data-ttu-id="f78ff-232">清单声明可以在 Unity 中进行，因此它们包含在以后的每个项目导出中。</span><span class="sxs-lookup"><span data-stu-id="f78ff-232">The manifest declarations can be made in Unity so they're included in every future project export.</span></span>

<span data-ttu-id="f78ff-233">可以通过以下方式为混合现实应用程序启用功能：</span><span class="sxs-lookup"><span data-stu-id="f78ff-233">Capabilities can be enabled for a Mixed Reality application by:</span></span>

1) <span data-ttu-id="f78ff-234">中转到 "**编辑**  >  **项目设置**  >  **播放器**" 页面</span><span class="sxs-lookup"><span data-stu-id="f78ff-234">Go to **Edit** > **Project Settings** > **Player** page</span></span>
2) <span data-ttu-id="f78ff-235">选择 " **Windows 应用商店** " 选项卡，打开 " **发布设置** " 部分，并查找 **功能** 列表</span><span class="sxs-lookup"><span data-stu-id="f78ff-235">Select the **Windows Store** tab, open the **Publishing Settings** section, and look for the **Capabilities** list</span></span>

<span data-ttu-id="f78ff-236">为全息应用启用常用 Api 的适用功能包括：</span><span class="sxs-lookup"><span data-stu-id="f78ff-236">The applicable capabilities for enabling the commonly used APIs for Holographic apps are:</span></span>
<br>

|  <span data-ttu-id="f78ff-237">功能</span><span class="sxs-lookup"><span data-stu-id="f78ff-237">Capability</span></span>  |  <span data-ttu-id="f78ff-238">需要功能的 Api</span><span class="sxs-lookup"><span data-stu-id="f78ff-238">APIs requiring capability</span></span> |
|----------|----------|
|  <span data-ttu-id="f78ff-239">SpatialPerception</span><span class="sxs-lookup"><span data-stu-id="f78ff-239">SpatialPerception</span></span>  |  <span data-ttu-id="f78ff-240">SurfaceObserver</span><span class="sxs-lookup"><span data-stu-id="f78ff-240">SurfaceObserver</span></span> |
|  <span data-ttu-id="f78ff-241">网络摄像头</span><span class="sxs-lookup"><span data-stu-id="f78ff-241">WebCam</span></span>  |  <span data-ttu-id="f78ff-242">PhotoCapture 和 VideoCapture</span><span class="sxs-lookup"><span data-stu-id="f78ff-242">PhotoCapture and VideoCapture</span></span> |
|  <span data-ttu-id="f78ff-243">PicturesLibrary/VideosLibrary</span><span class="sxs-lookup"><span data-stu-id="f78ff-243">PicturesLibrary / VideosLibrary</span></span>  |  <span data-ttu-id="f78ff-244">PhotoCapture 或 VideoCapture，分别 (存储捕获的内容) </span><span class="sxs-lookup"><span data-stu-id="f78ff-244">PhotoCapture or VideoCapture, respectively (when storing the captured content)</span></span> |
|  <span data-ttu-id="f78ff-245">麦克风</span><span class="sxs-lookup"><span data-stu-id="f78ff-245">Microphone</span></span>  |  <span data-ttu-id="f78ff-246">捕获音频) 、DictationRecognizer、GrammarRecognizer 和 KeywordRecognizer 时的 VideoCapture (</span><span class="sxs-lookup"><span data-stu-id="f78ff-246">VideoCapture (when capturing audio), DictationRecognizer, GrammarRecognizer, and KeywordRecognizer</span></span> |
|  <span data-ttu-id="f78ff-247">InternetClient</span><span class="sxs-lookup"><span data-stu-id="f78ff-247">InternetClient</span></span>  |  <span data-ttu-id="f78ff-248">DictationRecognizer (并使用 Unity 探查器) </span><span class="sxs-lookup"><span data-stu-id="f78ff-248">DictationRecognizer (and to use the Unity Profiler)</span></span> |

## <a name="see-also"></a><span data-ttu-id="f78ff-249">另请参阅</span><span class="sxs-lookup"><span data-stu-id="f78ff-249">See also</span></span>

* [<span data-ttu-id="f78ff-250">Unity 开发概述</span><span class="sxs-lookup"><span data-stu-id="f78ff-250">Unity development overview</span></span>](unity-development-overview.md)
* [<span data-ttu-id="f78ff-251">了解混合现实的性能</span><span class="sxs-lookup"><span data-stu-id="f78ff-251">Understanding performance for Mixed Reality</span></span>](../platform-capabilities-and-apis/understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="f78ff-252">针对 Unity 的性能建议</span><span class="sxs-lookup"><span data-stu-id="f78ff-252">Performance recommendations for Unity</span></span>](performance-recommendations-for-unity.md)